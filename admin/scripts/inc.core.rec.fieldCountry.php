<?php
//////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////
// rec fields table country
//////////////////////////////////////////////////////////////////////
session_start();
// only if logged
if(!isset($_SESSION['logOk'])) {
	return;
}
require_once("inc.core.connectDB.php");
?>
<?php
//////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////
// recup post info
//////////////////////////////////////////////////////////////////////
$idCountry = $_POST['idCountry'];
$field = $_POST['field'];
$value = $_POST['value'];

//////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////
// remove special characters of value
//////////////////////////////////////////////////////////////////////
require_once("inc.core.antiHack.php");

//////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////
// remove bad words of value
//////////////////////////////////////////////////////////////////////
require_once("inc.core.tools.bannedWords.php");

//////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////
// algorithm encode value
//////////////////////////////////////////////////////////////////////
require_once("inc.core.tools.algorithm.encode.php");
	
// idCountry digital only
if(is_numeric($idCountry)) {
	// save the new value in the correct field
	$connectDBIntelApp->exec("update country set ".$field."='$value' where idCountry='$idCountry' limit 1");
	echo('&nbsp;<i class="far fa-check-circle green"></i>');
}
// success
?>